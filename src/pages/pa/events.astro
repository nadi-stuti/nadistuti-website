---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import EventsPage from '../../components/events/EventsPage';
import { getLanguageFromURL } from '../../i18n';
import { t } from '../../i18n/translations';
import eventsData from '../../data/events.json';

const currentLang = getLanguageFromURL(Astro.url.pathname);
---

<Layout 
  title={t('events.title', currentLang)} 
  description={t('events.description', currentLang)}
  lang={currentLang}
>
  <Header />
  
  <EventsPage 
    eventsData={eventsData} 
    currentLang={currentLang}
    client:load
  />

  <Footer />
</Layout>